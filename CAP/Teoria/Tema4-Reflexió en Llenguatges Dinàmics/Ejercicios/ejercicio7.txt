Expliqueu com un bloc pot cridar-se a ell mateix (aconseguint així blocs sense nom,
anònims, però recursius). No podeu suposar que el bloc ha estat assignat a una
variable. Feu-ho servir per fer un bloc que calculi el factorial.

---------------------------------------------------------------------------------------------------------------------------------------------

Un bloc pot cridar-se a ell mateix mitjançant la utilització de l'objecte thisContext. El context actual (thisContext) és un objecte que representa l'estat d'execució del sistema en un determinat moment. Podem utilitzar-lo per obtenir una referència al bloc actual i cridar-lo recursivament.

A continuació, es mostra un exemple de com un bloc pot cridar-se a ell mateix sense ser assignat a cap variable, aconseguint així un bloc anònim i recursiu:


[:n |
    n <= 1
        ifTrue: [1]
        ifFalse: [n * (thisContext at: 1) value: n - 1]
] value: 5.


En aquest exemple, el bloc realitza una crida recursiva a ell mateix per calcular el factorial de n. La condició n <= 1 actua com a cas base per a la recursivitat.

Cal tenir en compte que aquesta tècnica pot ser potent i útil en algunes situacions, però també pot ser menys llegible i més difícil de mantenir. En general, s'han de prendre precaucions quan s'utilitza la recursivitat amb blocs anònims, ja que pot ser més difícil de comprendre per altres desenvolupadors que llegeixen el codi.